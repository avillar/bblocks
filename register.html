<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Location Building Blocks - Register</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/3d_emblem_lockup.ico" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Fork me ribbon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" />

    <!-- Code Highlight -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/atom-one-dark.min.css">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: OnePage - v4.7.0
  * Template URL: https://bootstrapmade.com/onepage-multipurpose-bootstrap-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- <a class="github-fork-ribbon" href="https://github.com/doublebyte1/bblocks" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a> -->

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center justify-content-between">

      <h1 class="logo">
        <!-- <a href="index.html#ogc"> -->
          <img src="assets/img/Blue-Horizontal-Lockup.png" style="width:100%" class="img-fluid" alt="" >
        <!-- </a> -->
      </h1>

      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav id="navbar" class="navbar">
<!--         <ul>
          <li><a class="nav-link scrollto active" href="index.html">Home</a></li>
          <li><a class="nav-link scrollto" href="index.html#background">Background</a></li>
          <li><a class="nav-link scrollto" href="index.html#granular">Granular Resources</a></li>
          <li><a class="nav-link scrollto o" href="index.html#ogcapis">OGC APIs</a></li>
          <li><a class="nav-link scrollto" href="index.html#examples">Examples</a></li>
          <li><a class="nav-link scrollto" href="index.html#faq">FAQ</a></li>

        </ul> -->
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->




    <!-- ======= Frequently Asked Questions Section ======= -->
    <section id="faq" class="faq section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Search the Register</h2>
          <p>This page presents the register of Building Blocks.</p>
          <p><input type="text" id="textToFind" value=""></p>
          <p><button onclick="filterRecords()">Search</button></p>
          <p id="demo"></p>
        </div>



        <script>

      function assignStatusBadge(status){

        if (status === undefined) return "<span class='badge bg-danger'>no status</span>";

        console.log(status);

        switch (status) {
          case "submitted":
            return "<span class='badge bg-success'>submitted</span>";
          case "Valid":
            return "<span class='badge bg-primary'>valid</span>";
          case "Superseded":
            return "<span class='badge bg-secondary'>superseded</span>";
          case "retiredinvalid":
            return "<span class='badge bg-danger'>retiredinvalid</span>";
          default:
            return "<span class='badge bg-warning text-dark'>Warning</span>";
          }
      }

      function assignMaturityBadge(maturity){

        if (maturity === undefined) return "<span class='badge bg-danger'>no status</span>";

        console.log(maturity);

        switch (maturity) {
          case "Mature":
            return "<span class='badge bg-success'>mature</span>";
          case "Stable":
            return "<span class='badge bg-success'>stable</span>";
          case "Candidate":
            return "<span class='badge bg-info text-dark'>candidate</span>";
          case "Proposal":
            return "<span class='badge bg-secondary'>proposal</span>";
          case "Deprecated":
            return "<span class='badge bg-danger'>deprecated</span>";
          default:
            return "<span class='badge bg-warning text-dark'>Warning</span>";
          }
      }

      function filterRecords() {

        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {

            const myObj = JSON.parse(this.responseText);
            let text = "";
            var itemCount = 1
            for (let x in myObj) {

              let statusBadge= assignStatusBadge(myObj[x].status);
              let maturityBadge= assignMaturityBadge(myObj[x].maturity);

              console.log(myObj[x].link);

              let itemText = "<li data-aos='fade-up' data-aos-delay='"+(itemCount*100)+"'><i class='bx bx-help-circle icon-help'></i> <a data-bs-toggle='collapse' class='collapse' data-bs-target='#faq-list-"+itemCount+"'>" +
                "<a href='" + myObj[x].link + "' target='_blank'>" + 
                myObj[x].name + "</a> <i class='bx bx-chevron-down icon-show'></i><i class='bx bx-chevron-up icon-close'></i></a>" +
              "<div id='faq-list-"+itemCount+"' class='collapse show' data-bs-parent='.faq-list'>" +
              "  <p>" +
              myObj[x].abstract +
              "  </p>" +
              "  <p>" +
                "<small>Date Added: " + new Date(myObj[x].dateTimeAddition).toString() + "</small>" +
              "  </p>" +
              "  <p>" +
                statusBadge + " " +
                maturityBadge + 
              "  </p>" +
              "</div>" +
              "</li>";

              console.log(itemText);

              itemCount = itemCount + 1

              if(myObj[x].name.toLowerCase().includes(document.getElementById("textToFind").value.toLowerCase()))
              {
                text += itemText;
              }
            }
            text += "";

            document.getElementById("registeredItems").innerHTML = text;

          }
        };
        xmlhttp.open("GET", "register.json");
        xmlhttp.send();


      }
      </script>

        <div class="faq-list">
          <ul id="registeredItems">
          </ul>
        </div>

      </div>
    </section><!-- End Frequently Asked Questions Section -->




  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="container d-md-flex py-4">

      <div class="me-md-auto text-center text-md-start">
        <div class="copyright">
          &copy; Copyright <strong><span>OGC</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/onepage-multipurpose-bootstrap-template/ -->
          Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
      </div>
      <div class="social-links text-center text-md-right pt-3 pt-md-0">
        <a href="mailto:devrel@ogc.org" class="instagram"><i class="bx bx-mail-send"></i></a>
        <a href="https://github.com/cportele/ogcapi-building-blocks/" class="twitter"><i class="bx bxl-github"></i></a>
        <a href="https://discord.gg/3uyaZZuXr3" class="facebook"><i class="bx bxl-discord"></i></a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <!-- <script src="assets/vendor/php-email-form/validate.js"></script> -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>



</body>

</html>
